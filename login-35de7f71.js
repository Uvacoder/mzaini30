import{S as a,i as s,s as t,e as o,a as e,h as n,c as r,d as u,k as i,l,p as c,n as p,g as m,r as d,m as f,o as h,z as b,q as w,A as k,u as y}from"./main-e2384446.js";import{a as g,s as j}from"./api-ad30823f.js";import{c as q}from"./tools-c085b23f.js";function v(a){let s,t,f,h,b,w;return{c(){s=o("form"),t=o("div"),f=o("input"),h=e(),n(f,"type","password"),n(f,"class","form-control"),n(f,"placeholder","Masukkan password"),f.required=!0,n(t,"class","form-group"),document.title="Login"},m(o,e){r(o,s,e),u(s,t),u(t,f),a[3](f),i(f,a[0]),r(o,h,e),b||(w=[l(f,"input",a[4]),l(s,"submit",c(a[2]))],b=!0)},p(a,[s]){1&s&&f.value!==a[0]&&i(f,a[0])},i:p,o:p,d(t){t&&m(s),a[3](null),t&&m(h),b=!1,d(w)}}}function x(a,s,t){let o,e;f(a,b,a=>t(5,o=a)),f(a,w,a=>t(6,e=a));let n,r="";h(()=>n.focus());return[r,n,async()=>{let a=new FormData;a.append("sql",btoa(btoa(`\n\t select count(*) as banyak\n\t from database_${g}\n\t where password = "${q(r)}"\n\t`)));let s=await fetch(j,{method:"post",body:a}).then(a=>a.json());s=await s,s[0].banyak>0?(localStorage.setItem("password",r),k(b,o=!0,o),e("/")):t(0,r="")},function(a){y[a?"unshift":"push"](()=>{n=a,t(1,n)})},function(){r=this.value,t(0,r)}]}export default class extends a{constructor(a){super(),s(this,a,x,v,t,{})}}
